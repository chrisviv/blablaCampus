CREATE TABLE users(
   id_user VARCHAR(50),
   username VARCHAR(255),
   password VARCHAR(255),
   name VARCHAR(255),
   picture VARCHAR(255),
   mail VARCHAR(255),
   bio VARCHAR(255),
   PRIMARY KEY(id_user)
);

CREATE TABLE trajets(
   id_trajet VARCHAR(50),
   depart VARCHAR(255),
   destination VARCHAR(255),
   date_depart DATETIME,
   date_etape1 DATETIME,
   date_etape2 DATETIME,
   date_etape3 DATETIME,
   date_destination DATETIME,
   aller_retour INT,
   nb_voyageurs INT,
   etape_1 VARCHAR(255),
   etape_2 VARCHAR(255),
   etape_3 VARCHAR(255),
   id_user VARCHAR(50) NOT NULL,
   PRIMARY KEY(id_trajet),
   FOREIGN KEY(id_user) REFERENCES users(id_user)
);

CREATE TABLE reservation(
   id_reservation VARCHAR(50),
   id_user VARCHAR(50) NOT NULL,
   id_trajet VARCHAR(50) NOT NULL,
   PRIMARY KEY(id_reservation),
   FOREIGN KEY(id_user) REFERENCES users(id_user),
   FOREIGN KEY(id_trajet) REFERENCES trajets(id_trajet)
);

CREATE TABLE demandes(
   id_demande VARCHAR(50),
   id_trajet VARCHAR(50) NOT NULL,
   id_user VARCHAR(50) NOT NULL,
   PRIMARY KEY(id_demande),
   FOREIGN KEY(id_trajet) REFERENCES trajets(id_trajet),
   FOREIGN KEY(id_user) REFERENCES users(id_user)
);
